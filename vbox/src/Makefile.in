#
# $Id: Makefile.in,v 1.7 1997/04/04 09:32:36 michael Exp $

#----------------------------------------------------------------------------#
# The information below is modified by the configure script when Makefile is #
# generated from Makefile.in. You shouldn't normally modify any of this      #
# stuff by hand.                                                             #
#----------------------------------------------------------------------------#

HAVE_NCURSES	= @HAVE_NCURSES_LIBS@
LIBS_NCURSES	= @LINK_NCURSES_LIBS@
HAVE_TCL	= @HAVE_TCL_LIBS@
LIBS_TCL	= @LINK_TCL_LIBS@
HAVE_INTL	= @HAVE_INTL_LIBS@
LIBS_INTL	= @LINK_INTL_LIBS@

#----------------------------------------------------------------------------#
# Headers                                                                    #
#----------------------------------------------------------------------------#

HEADERS		= init.h lists.h lock.h log.h modem.h streamio.h perms.h \
		  rcgetty.h script.h voice.h vboxgetty.h rcvbox.h \
		  vboxctrl.h vboxd.h config.h

#----------------------------------------------------------------------------#
# Object compile modes                                                       #
#----------------------------------------------------------------------------#

log.o:		$(HEADERS) log.c
		$(CC) $(CFLAGS) -c log.c

init.o:		$(HEADERS) init.c
		$(CC) $(CFLAGS) -c init.c

rcgetty.o:	$(HEADERS) rcgetty.c
		$(CC) $(CFLAGS) -c rcgetty.c

lists.o:	$(HEADERS) lists.c
		$(CC) $(CFLAGS) -c lists.c

script.o:	$(HEADERS) script.c
		$(CC) $(CFLAGS) -DBINDIR='"$(VBOX_BINDIR)"' -c script.c

voice.o:	$(HEADERS) voice.c
		$(CC) $(CFLAGS) -c voice.c

streamio.o:	$(HEADERS) streamio.c
		$(CC) $(CFLAGS) -c streamio.c

perms.o:	$(HEADERS) perms.c
		$(CC) $(CFLAGS) -c perms.c

modem.o:	$(HEADERS) modem.c
		$(CC) $(CFLAGS) -c modem.c

lock.o:		$(HEADERS) lock.c
		$(CC) $(CFLAGS) -c lock.c

rcvbox.o:	$(HEADERS) rcvbox.c
		$(CC) $(CFLAGS) -c rcvbox.c

vboxgetty.o:	$(HEADERS) vboxgetty.c
		$(CC) $(CFLAGS) -DGETTYRC='"$(VBOX_GETTYCONF)"' -c vboxgetty.c

vboxconvert.o:	$(HEADERS) vboxconvert.c
		$(CC) $(CFLAGS) -c vboxconvert.c

libvbox.o:	$(HEADERS) libvbox.c
		$(CC) $(CFLAGS) -c libvbox.c

vboxctrl.o:	$(HEADERS) vboxctrl.c
		$(CC) $(CFLAGS) -c vboxctrl.c

vboxbeep.o:	$(HEADERS) vboxbeep.c
		$(CC) $(CFLAGS) -c vboxbeep.c

vboxd.o:	$(HEADERS) vboxd.c
		$(CC) $(CFLAGS) -DVBOXDRC='"$(VBOX_VBOXDCONF)"' -c vboxd.c

#----------------------------------------------------------------------------#

all:		  vboxlib vboxd vboxgetty vboxconvert vboxctrl vboxbeep vbox

#----------------------------------------------------------------------------#
# Compiling vboxlib                                                          #
#----------------------------------------------------------------------------#

VBOXLIBOBJS	= libvbox.o

vboxlib:	  $(VBOXLIBOBJS)
		  $(AR) cru libvbox.a $(VBOXLIBOBJS)
		 -$(RANLIB) libvbox.a

#----------------------------------------------------------------------------#
# Compiling vboxgetty                                                        #
#----------------------------------------------------------------------------#

VBOXGETTYOBJS	= vboxgetty.o init.o log.o perms.o lock.o streamio.o modem.o \
		  script.o voice.o lists.o rcvbox.o rcgetty.o \

vboxgetty:	  $(VBOXGETTYOBJS)
		  $(CC) $(CFLAGS) $(VBOXGETTYOBJS) -o vboxgetty -L. $(LIBS_TCL) $(LIBS_INTL) -lvbox

#----------------------------------------------------------------------------#
# Compiling vbox                                                             #
#----------------------------------------------------------------------------#

#ifeq ($(GOT_LIB_NCURSES),y)
#
#VBOXLIBS	= -lpanel -lncurses
#
#VBOXOBJS	= vbox.o parserc.o misc.o
#
#vbox:		  $(VBOXOBJS)
#		  $(CC) $(VBOXOBJS) $(VBOXLIBS) -o vbox
#
#endif

vbox:
		touch vbox

#----------------------------------------------------------------------------#
# Compiling vboxconvert                                                      #
#----------------------------------------------------------------------------#

VBOXCONVOBJS	= vboxconvert.o

vboxconvert:	  $(VBOXCONVOBJS)
		  $(CC) $(CFLAGS) $(VBOXCONVOBJS) -o vboxconvert -L. $(LIBS_INTL) -lvbox

#----------------------------------------------------------------------------#
# Compiling vboxctrl                                                         #
#----------------------------------------------------------------------------#

VBOXCTRLOBJS	= vboxctrl.o

vboxctrl:	  $(VBOXCTRLOBJS)
		  $(CC) $(CFLAGS) $(VBOXCTRLOBJS) -o vboxctrl -L. $(LIBS_INTL) -lvbox

#----------------------------------------------------------------------------#
# Compiling vboxbeep                                                         #
#----------------------------------------------------------------------------#

VBOXBEEPOBJS	= vboxbeep.o

vboxbeep:	  $(VBOXBEEPOBJS)
		  $(CC) $(CFLAGS) $(VBOXBEEPOBJS) -o vboxbeep -L. $(LIBS_INTL) -lvbox

#----------------------------------------------------------------------------#
# Compiling vboxd                                                            #
#----------------------------------------------------------------------------#

VBOXDOBJS	= vboxd.o streamio.o

vboxd:		  $(VBOXDOBJS)
		  $(CC) $(CFLAGS) $(VBOXDOBJS) -o vboxd -L. -lvbox

