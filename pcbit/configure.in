dnl Process this file with autoconf to produce a configure script.
AC_INIT(convhexbin.c)
AC_PREFIX_DEFAULT(/usr)

dnl Checks for programs.
AC_PROG_CC
AC_PROG_INSTALL

dnl Checks for libraries.

dnl Checks for header files.
AC_HEADER_STDC
AC_CHECK_HEADERS(fcntl.h sys/ioctl.h unistd.h)

dnl Find current kernel source
dnl done by dereferencing the symbolic link /usr/include/linux
dnl and then stripping off include/linux from the result.

AC_CHECK_HEADERS(linux/isdn.h,\
	KERNELDIR="/usr/include/`find /usr/include/linux -maxdepth 0 -printf '%l\n' | sed -e s@include/linux@@`", \
    AC_MSG_ERROR("Missing linux/isdn.h. Kernel source installed?"))

dnl Checks for typedefs, structures, and compiler characteristics.

dnl Checks for library functions.
AC_PROG_GCC_TRADITIONAL
AC_CHECK_FUNCS(strerror)

AC_SUBST(INSTALL)
AC_SUBST(KERNELDIR)
AC_OUTPUT(Makefile)
